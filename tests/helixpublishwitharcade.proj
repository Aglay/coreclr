<Project Sdk="Microsoft.DotNet.Helix.Sdk">
  <PropertyGroup>
    <HelixSource>pr/coreclr/master</HelixSource>
    <HelixType>test/stuff</HelixType>
    <HelixBuild>$(BUILD_BUILDNUMBER)</HelixBuild>
    <HelixTargetQueue>Windows.10.Amd64.Open</HelixTargetQueue>
  </PropertyGroup>

  <ItemGroup>
    <HelixCorrelationPayload Include="$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Tests\Core_Root" />
  </ItemGroup>

  <ItemGroup>
    <HelixWorkItem Include="baseservices.compilerservices.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\baseservices\compilerservices</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="baseservices.exceptions.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\baseservices\exceptions</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="baseservices.threading.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\baseservices\threading</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="baseservices.varargs.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\baseservices\varargs</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Exceptions.Finalization.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Exceptions\Finalization</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Exceptions.ForeignThread.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Exceptions\ForeignThread</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.API.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\API</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.Coverage.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\Coverage</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.Features.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\Features</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.LargeMemory.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\LargeMemory</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.Performance.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\Performance</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.Regressions.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\Regressions</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="GC.Scenarios.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\GC\Scenarios</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.ArrayMarshalling.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\ArrayMarshalling</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.ClassicCOM.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\ClassicCOM</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.ICastable.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\ICastable</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.MarshalAPI.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\MarshalAPI</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.StringMarshalling.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\StringMarshalling</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.StructMarshalling.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\StructMarshalling</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Interop.StructPacking.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Interop\StructPacking</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.CheckProjects.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\CheckProjects</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.CodeGenBringUpTests.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\CodeGenBringUpTests</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.Directed.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\Directed</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.HardwareIntrinsics.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\HardwareIntrinsics</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.IL_Conformance.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\IL_Conformance</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.Intrinsics.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\Intrinsics</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.jit64.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\jit64</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.Methodical.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\Methodical</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.opt.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\opt</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.Performance.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\Performance</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.Regression.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\Regression</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.RyuJIT.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\RyuJIT</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.SIMD.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\SIMD</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="JIT.superpmi.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\JIT\superpmi</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Loader.classloader.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Loader\classloader</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Loader.NativeLibs.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Loader\NativeLibs</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Loader.regressions.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Loader\regressions</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="managed.Compilation.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\managed\Compilation</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="performance.linkbench.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\performance\linkbench</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="performance.perflab.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\performance\perflab</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="performance.Scenario.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\performance\Scenario</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="readytorun.DynamicMethodGCStress.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\readytorun\DynamicMethodGCStress</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="readytorun.tests.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\readytorun\tests</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="reflection.ActivateStructDefCtor.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\reflection\ActivateStructDefCtor</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="reflection.DefaultInterfaceMethods.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\reflection\DefaultInterfaceMethods</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="reflection.GenericAttribute.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\reflection\GenericAttribute</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Regressions.assemblyref.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Regressions\assemblyref</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Regressions.common.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Regressions\common</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="Regressions.assemblyref.coreclr">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\Regressions\coreclr</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="tracing.common.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\tracing\common</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="tracing.eventactivityidcontrol.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\tracing\eventactivityidcontrol</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="tracing.eventlistener.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\tracing\eventlistener</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="tracing.eventsource.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\tracing\eventsource</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
    <HelixWorkItem Include="tracing.tracevalidation.XUnitWrapper">
      <Command>%HELIX_WORKITEM_PAYLOAD%\runtests.cmd</Command>
      <PayloadDirectory>$(BUILD_SOURCESDIRECTORY)\bin\tests\Windows_NT.x64.Checked\tracing\tracevalidation</PayloadDirectory>
      <Timeout>00:30:00</Timeout>
    </HelixWorkItem>
  </ItemGroup>

  <Target Name="CorrelationId" AfterTargets="Test">
    <Message Importance="High" Text="##vso[task.setvariable variable=HelixJobId;]$(HelixJobId)" />
    <Message Importance="High" Text="##vso[task.setvariable variable=NumberOfWorkItems;]@(HelixWorkItem->Count())" />
  </Target>
</Project>
